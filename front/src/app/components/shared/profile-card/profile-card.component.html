<mat-card class="app-entity-card profile-card">
  <!-- Indicateur de statut de paiement (en haut Ã  droite) -->
  <div class="payment-status-indicator" *ngIf="paymentStatus && profileType === 'student' && paymentStatus.paymentStatus !== 'NA'">
    <mat-chip
      [class.status-good]="paymentStatus.paymentStatus === 'GOOD'"
      [class.status-late]="paymentStatus.paymentStatus === 'LATE'"
      [matTooltip]="getPaymentTooltip()"
      [matTooltipDisabled]="paymentStatus.paymentStatus !== 'LATE'"
      matTooltipClass="payment-tooltip">
      <mat-icon>{{ getPaymentIcon() }}</mat-icon>
      {{ getPaymentLabel() }}
    </mat-chip>
  </div>

  <div class="app-entity-card__body profile-card-content" (click)="navigateToProfile()">
    <div class="app-entity-card__avatar profile-photo">
      <img [src]="profilePhotoUrl" alt="Photo de profil">
    </div>
    <div class="profile-info">
      <mat-card-title class="app-entity-card__title profile-name">{{ profile.firstName }} {{ profile.lastName }}</mat-card-title>
      <mat-card-subtitle class="app-entity-card__subtitle profile-subtitle">{{ profile.subtitle }}</mat-card-subtitle>
    </div>
  </div>
  <mat-card-actions class="app-entity-card__actions card-actions">
    <button mat-icon-button
            class="contact-button email-button"
            (click)="sendEmail($event)"
            [disabled]="!profile.email"
            matTooltip="Envoyer un email"
            color="primary">
      <mat-icon>email</mat-icon>
    </button>
    <button mat-icon-button
            class="contact-button phone-button"
            (click)="callPhone($event)"
            [disabled]="!profile.phoneNumber"
            matTooltip="Ouvrir WhatsApp"
            color="accent">
      <mat-icon>phone</mat-icon>
    </button>
  </mat-card-actions>
</mat-card>
