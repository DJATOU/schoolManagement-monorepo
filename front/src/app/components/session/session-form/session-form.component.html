<form [formGroup]="sessionForm" (ngSubmit)="onSubmit()" class="form-container fade-in">
  <h2 class="form-title">Session Registration Form</h2>
  <mat-tab-group class="tab-group">
    <mat-tab label="Session Details">
      <div class="tab-content" formGroupName="sessionDetails">
        <mat-form-field appearance="fill">
          <mat-label>Title</mat-label>
          <input matInput formControlName="title">
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>Description</mat-label>
          <textarea matInput formControlName="description"></textarea>
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>Session Type</mat-label>
          <input matInput formControlName="sessionType">
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>Feedback Link</mat-label>
          <input matInput formControlName="feedbackLink">
        </mat-form-field>
      </div>
    </mat-tab>
    <mat-tab label="Session Timing">
      <div class="tab-content" formGroupName="sessionTiming">
        <mat-form-field appearance="fill">
          <mat-label>Session Start Date</mat-label>
          <input matInput [matDatepicker]="startDatePicker" placeholder="Choose a date" formControlName="sessionDateStart">
          <mat-datepicker-toggle matSuffix [for]="startDatePicker"></mat-datepicker-toggle>
          <mat-datepicker #startDatePicker></mat-datepicker>
        </mat-form-field>
        <mat-form-field appearance="fill">
          <mat-label>Session Start Time</mat-label>
          <input matInput [ngxTimepicker]="startTimePicker" readonly placeholder="Select Time" formControlName="sessionTimeStart">
          <ngx-material-timepicker-toggle [for]="startTimePicker" matSuffix></ngx-material-timepicker-toggle>
          <ngx-material-timepicker #startTimePicker></ngx-material-timepicker>
        </mat-form-field>
      
        <mat-form-field appearance="fill">
          <mat-label>Session End Date</mat-label>
          <input matInput [matDatepicker]="endDatePicker" placeholder="Choose a date" formControlName="sessionDateEnd">
          <mat-datepicker-toggle matSuffix [for]="endDatePicker"></mat-datepicker-toggle>
          <mat-datepicker #endDatePicker></mat-datepicker>
        </mat-form-field>
        <mat-form-field appearance="fill">
          <mat-label>Session End Time</mat-label>
          <input matInput [ngxTimepicker]="endTimePicker" readonly placeholder="Select Time" formControlName="sessionTimeEnd">
          <ngx-material-timepicker-toggle [for]="endTimePicker" matSuffix></ngx-material-timepicker-toggle>
          <ngx-material-timepicker #endTimePicker></ngx-material-timepicker>
        </mat-form-field>
      </div>
    </mat-tab>
    <mat-tab label="Identifiers">
      <div class="tab-content" formGroupName="identifiers">
        <mat-form-field appearance="fill">
          <mat-label>Group</mat-label>
          <mat-select formControlName="groupId">
            <mat-option *ngFor="let group of groups" [value]="group.id">{{ group.name }}</mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>Room</mat-label>
          <mat-select formControlName="roomId">
            <mat-option *ngFor="let room of rooms" [value]="room.id">{{ room.name }}</mat-option>
          </mat-select>
        </mat-form-field>
        
        <mat-form-field appearance="fill">
          <mat-label>Teacher</mat-label>
          <mat-select formControlName="teacherId">
            <mat-option *ngFor="let teacher of teachers" [value]="teacher.id">
              {{ teacher.firstName }} {{ teacher.lastName }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
    </mat-tab>
  </mat-tab-group>

  <div class="button-container">
    <button mat-raised-button color="primary" type="submit" class="submit-button">Save Session</button>
    <button mat-raised-button color="accent" type="button" class="clear-button" (click)="onClearForm()">Clear</button>
  </div>
</form>
