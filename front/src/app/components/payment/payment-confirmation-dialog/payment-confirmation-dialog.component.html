<h2 mat-dialog-title>Confirmation de Paiement</h2>
<mat-dialog-content>
  <h3>Résumé du Paiement</h3>
  <p><strong>Série :</strong> {{ data.seriesName }}</p>

  <!-- Note de rattrapage en rouge -->
  <p *ngIf="data.isCatchUp" style="color: red; font-weight: bold; margin: 10px 0;">
    ⚠️ RATTRAPAGE : Paiement par session assistée uniquement
  </p>

  <p><strong>{{ data.isCatchUp ? 'Nombre de sessions assistées' : 'Nombre de sessions créées' }} :</strong> {{ data.numberOfSessions }}</p>
  <p><strong>Prix par session :</strong> {{ data.pricePerSession }} DA</p>
  <p><strong>Coût total :</strong> {{ data.totalCost }} DA</p>

  <!-- Explication pour rattrapage -->
  <p *ngIf="data.isCatchUp" style="color: #666; font-size: 0.9em; font-style: italic;">
    Note : Pour un étudiant en rattrapage, seules les sessions auxquelles il a assisté sont facturées.
  </p>

  <hr>
  <p><strong>Montant déjà payé :</strong> {{ data.totalPaid }} DA</p>
  <p><strong>Montant restant à payer :</strong> {{ data.remainingAmount }} DA</p>

  <!-- Message de confirmation pour rattrapage -->
  <p *ngIf="data.isCatchUp && data.remainingAmount === 0" style="color: green; font-weight: bold;">
    ✓ L'étudiant est en règle pour toutes ses sessions de rattrapage.
  </p>
  <p *ngIf="data.isCatchUp" style="color: red; font-weight: bold; margin-top: 6px;">
    Rattrapage : l'étudiant est en règle dès qu'il a payé chaque session suivie.
  </p>
</mat-dialog-content>
<mat-dialog-actions>
  <button mat-button (click)="onCancel()">Cancel</button>
  <button mat-raised-button color="primary" (click)="onConfirm()">Confirm</button>
</mat-dialog-actions>
